---
title: vim记录
date: 2018-12-09 19:13:19
tags: vim
categories: 工具
---

# vim记录

`vim` 是个非常不错的编辑器。如果诸君有尝试过去记住编辑器的快捷键从而达到尽量减少鼠标或是触摸板的使用的话，那么 `vim` 一定会让你感到自在。
当然，在最开始的时候，虽然我是键盘流工作的爱好者，但是也对 `vim` 充满了畏惧，真正接触下来的时候，会感到 `vim` 还是很有意思的。所以目前我也是在不断熟悉 `vim` 的时候，考虑到网上 `vim` 的文章相当多，这里权当是在记录学习过程中，我觉得有用到的快捷键再这里补充记录，毕竟 `vim` 的快捷键确实还有点多的。
顺带提一句，我是在我的 `webstorm` 和 `vscode` 中安装了 `vim` 插件，这样在已经习惯好的编辑器慢慢熟悉 `vim` ,同时也能在 `vim` 不好搞的时候，切回到之前的工作流程。`jetbrain`系玩家，除了安装 `ideaVim` 还应该去安装 `ideaVimExtension`，这个插件主要是解决插入模式和普通模式切换的时候需要来回切换的问题。很遗憾，我在 `vscode` 貌似没有找到这个插件。
另外，推荐诸君使用 `chrome` 的插件 `vimium`，我认为诸君即使对 `vim` 不感兴趣也应该安装这个插件，我只能说实在是太好用了。

由于我也是 `vim` 新学者，内容都是按照我的理解去写，不能保证概念上的正确，概念上也不会说的详细。我也是只记录我觉得常用，有用的快捷键。

另外 `mac` 用户，建议把键盘设置里的重复按键的延迟拉到最快，这样光标移动起来会快很多。

## 模式

1. 普通模式
2. 插入模式
3. 命令行模式
4. 视图模式

一般情况下都是在普通模式的时候，在需要的时候才会切换模式。插入模式、视图模式的时候 `Esc` 键就能回到普通模式。

## 移动

- `j`，`k`，`h`，`l`分别对应 *下* 、*上*、*左*、*右*。
- `gg` 回到第一行，`G`到最后一行。
- `w` 跳下个单词词首，`e`跳下个单词词尾，`b`反向跳词首，其中`W`、`E`、`B`功能和小写的功能差不多，能直接跳过一些符号。
- `:31` 进入命令行模式，直接跳到31行。
- `12G` 跳到12行。
- `H`、`L`、`M`跳到当前视图的顶部，底部，中间。顺带一提 `zz` 能够让光标所在行定位到屏幕的中间。
- `$`、`^`、0，$ 是回到行尾，^、0类似，回到行首，0是第一格，^ 是行首。

## 进入插入模式

- `i`、`a`，插入和追加，细微差别。
- `I`、`A`， 行首插入和行尾插入。
- `o`、`O`，当前行的下一行插入和上一行插入，`o`和 `webstorm` 的`shift + enter`效果一样。
- `caw`、`cw` 删除光标所在单词，并进去插入模式，这个键太好用了。`cw`不会删除光标所在单词的前面部分。
- `ci"`、`ci'`、`cit` 删除双引号、单引号、`xml`标签包裹的内容，并进入插入模式。
- `ca"`、`ca'`、`cat` 和上面类似，不同的是多删除掉了双引号、单引号、`xml` 标签。

## 操作

- `x` 删除。
- `daw` 删除一个单词。
- `d$`、`d^` 删除到行为、行首。

## 杂

- `u` 撤销。
- `ctrl + r` 重做。
- `zc`、`zo` 折叠代码，展开代码。
- `<`、`>` 缩进。
- `=` 自动缩进。

## 2019/3/7 更新

快速让行中的数值增加或者减少：

- `ctrl` + `a` 自动增加1
- `ctrl` + `x` 自动减少1

例子：

```js
/**
 * 有这么一行代码
 * 光标移动到这一行，ctrl + a
 * 数字自动变成了13
 * 如果先加上量词，b比如100，再输入 ctrl + a
 * 数字就会变成112
 * ctrl + x则是进行减的操作
*/
const a = 12;
```

## 2019/4/27

### 寄存器

与日常使用的 `ctrl+c` *(copy)* 、`ctrl+v` *(paste)* 直接操作系统剪贴板不一样，`vim` 的复制动作称为 `yank` 粘贴动作称为 `put` 并且这些操作是有一个寄存器概念，寄存器的种类有多种如*无名寄存器*、*有名寄存器*、*系统寄存器*等。默认 `yy` 、`daw` 之类的操作会把数据保存在无名寄存器中，如果想保留数据到特定寄存器中可以 `"ayaw` 调用一个名为`a`的寄存器，然后`yaw`复制一个单词到`a`这个寄存器，粘贴的时候同样是 `"ap`就能粘贴到这个单词。有了多个有名寄存器之后就相当于可以复制多个数据不会被覆盖了。

初学 `vim` 的人经常在 `vim` 中复制了内容，却不能在 `vim` 之外粘贴内容，这是因为 `vim` 有个专门的系统剪贴板寄存器 `+`。为了能够互通 `vim` 和系统剪贴板，比如`"+yy`，复制某行内容到系统剪贴板，在 `vim` 之外直接 `ctrl+v` 就能使用了。

#### 设置无名寄存器为系统剪贴板

在 `vim` 中输入：
```bash
:set clipboard=unnamed
```

或者在 `.vimrc` 中加入配置。

这样 `vim` 的无名寄存器就和系统的剪贴板互通了，两边的复制粘贴可以直接通用。

---

![Thatched Cottages in the Sunshine ](vim记录/2059132621.jpg)

> Vincent van Gogh – Thatched Cottages in the Sunshine 1890
